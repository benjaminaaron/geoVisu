<html> 
	<head> 
		<title>geo</title> 
		<style> 
			.centered {
			   text-align:center;
			}
		</style> 
	</head> 
	<body> 

		<!-- 	
			benjaminaaron
			b.degenhart.study@gmail.com 
			March 2015
		-->

		<script type="text/javascript"
 			src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		</script>


<div class='centered'>

	<br>
	
	<strong>X.3</strong>

	<br><br>
	locus of all points:
	<br><br>

	<math xmlns='http://www.w3.org/1998/Math/MathML'>
	   <mrow mathcolor='olive'>
		   <mo>&#10072;</mo>
		   <mi>A</mi>
		   <mi>X</mi> 
		   <mo>&#10072;</mo>
		   <mo>=</mo>
		   <mi>k</mi>
		   <mo>*</mo>
		   <mo>&#10072;</mo>
		   <mi>B</mi>
		   <mi>X</mi> 
		   <mo>&#10072;</mo>
		   <mo>,</mo>
		   <mi>k</mi>
		   <mo>&isin;</mo>
		   <msup>
				<mn>&reals;</mn>
				<mo>+</mo>
			</msup>	
	   </mrow>
	</math>

	<br><br>
	canonical form:
	<br><br>

	<math xmlns='http://www.w3.org/1998/Math/MathML'>
		<mrow mathcolor='red'>
			<mfrac>
			    <mn>1</mn>
			  	<mrow>
				  	<mfrac>
				  		<msup>
							<mi>k</mi>
							<mn>2</mn>
						</msup>
						<mrow>
							<mn>1</mn>
							<mo>-</mo>
							<msup>
								<mi>k</mi>
								<mn>2</mn>
							</msup>
						</mrow>
				  	</mfrac>
				  	<mo>+</mo>
				  	<msup>
						<mrow>
						  	<mo>(</mo>
						  	<mfrac>
						  		<msup>
									<mi>k</mi>
									<mn>2</mn>
								</msup>
								<mrow>
									<mn>1</mn>
									<mo>-</mo>
									<msup>
										<mi>k</mi>
										<mn>2</mn>
									</msup>
								</mrow>
						  	</mfrac>
						  	<mo>)</mo>
						</mrow>
						<mn>2</mn>
					</msup>
			    </mrow>
			</mfrac>
			<mrow>
				<msup>
					<mrow>
						<mo>(</mo>
						<mi>x</mi>
						<mo>+</mo>
						<mfrac>
						  	<msup>
								<mi>k</mi>
								<mn>2</mn>
							</msup>
							<mrow>
								<mn>1</mn>
								<mo>-</mo>
								<msup>
									<mi>k</mi>
									<mn>2</mn>
								</msup>
							</mrow>
						</mfrac>
						<mo>)</mo>
					</mrow>
					<mn>2</mn>
				</msup>
			</mrow>
			<mo>+</mo>
			<mfrac>
			    <mn>1</mn>
			  	<mrow>
				  	<mfrac>
				  		<msup>
							<mi>k</mi>
							<mn>2</mn>
						</msup>
						<mrow>
							<mn>1</mn>
							<mo>-</mo>
							<msup>
								<mi>k</mi>
								<mn>2</mn>
							</msup>
						</mrow>
				  	</mfrac>
				  	<mo>+</mo>
				  	<msup>
						<mrow>
						  	<mo>(</mo>
						  	<mfrac>
						  		<msup>
									<mi>k</mi>
									<mn>2</mn>
								</msup>
								<mrow>
									<mn>1</mn>
									<mo>-</mo>
									<msup>
										<mi>k</mi>
										<mn>2</mn>
									</msup>
								</mrow>
						  	</mfrac>
						  	<mo>)</mo>
						</mrow>
						<mn>2</mn>
					</msup>
			    </mrow>
			</mfrac>
			<mrow>
				<msup>
					<mi>y</mi>
					<mn>2</mn>
				</msup>
			</mrow>
			<mo>=</mo>
			<mn>1</mn>
		</mrow>
	</math>

	<br><br>
	origin and radius: 
	<br><br>

	<math xmlns='http://www.w3.org/1998/Math/MathML'>
	   <mrow mathcolor='blue'>
		   <mi>r</mi>
		   <mo>=</mo> 

		   <mo>-</mo>
		   <msqrt>
				<mrow>
				  	<mfrac>
				  		<msup>
							<mi>k</mi>
							<mn>2</mn>
						</msup>
						<mrow>
							<mn>1</mn>
							<mo>-</mo>
							<msup>
								<mi>k</mi>
								<mn>2</mn>
							</msup>
						</mrow>
				  	</mfrac>
				  	<mo>+</mo>
				  	<msup>
						<mrow>
						  	<mo>(</mo>
						  	<mfrac>
						  		<msup>
									<mi>k</mi>
									<mn>2</mn>
								</msup>
								<mrow>
									<mn>1</mn>
									<mo>-</mo>
									<msup>
										<mi>k</mi>
										<mn>2</mn>
									</msup>
								</mrow>
						  	</mfrac>
						  	<mo>)</mo>
						</mrow>
						<mn>2</mn>
					</msup>
			    </mrow>
		   </msqrt>
	   </mrow>
	</math>

	<br><br>

	<math xmlns='http://www.w3.org/1998/Math/MathML'>
		<mrow mathcolor='blue'>
			<mi>x</mi>
			<mo>=</mo>
			<mo>-</mo>
			<mfrac>
				<msup>
					<mi>k</mi>
					<mn>2</mn>
				</msup>
				<mrow>
					<mn>1</mn>
					<mo>-</mo>
					<msup>
						<mi>k</mi>
						<mn>2</mn>
					</msup>
				</mrow>
			</mfrac>
	   	</mrow>
	</math>

	<br><br>

	<math xmlns='http://www.w3.org/1998/Math/MathML'>
		<mrow mathcolor='blue'>
			<mi>y</mi>
			<mo>=</mo>
			<mn>0</mn>
		</mrow>
	</math>

	<br><br>
	parameterized form: 
	<br><br>

	<math xmlns='http://www.w3.org/1998/Math/MathML'>
		<mrow mathcolor='gray'>
			<mo>(</mo>
			<mi>x</mi>
			<mo>+</mo>
			<mi>r</mi>
			<mi>cos</mi>
			<mi>&#981</mi>
			<mo>,</mo>
			<mi>y</mi>
			<mo>+</mo>
			<mi>r</mi>
			<mi>sin</mi>
			<mi>&#981</mi>	
			<mo>)</mo>
			<mo>,</mo>
			<mn>0</mn>
			<mo>&leq;</mo>
			<mi>&#981</mi>
			<mo>&leq;</mo>
			<mn>2</mn>
			<mn>&pi;</mn>
		</mrow>
	</math>

</div>

<br><br><br>

		<div class='centered'>
			<canvas id="canvas" width="1000" height="600"></canvas>
		</div>

		<br><br>

		<script>

			function dist(x1, y1, x2, y2){
				return Math.sqrt(Math.pow(x2-x1,2) + Math.pow(y2-y1,2));
			}

			var k = 0;
			var xMin = -5;
			var xMax = 5;
			var yMin = -3;
			var yMax = 3;

			function init(){
			  	window.requestAnimationFrame(draw);
			}

			function draw() {
			 	var ctx = document.getElementById('canvas').getContext('2d');
			  	ctx.clearRect(0,0,1000,600);
				ctx.strokeStyle = 'silver';			 	
				ctx.save();


				ctx.fillStyle = 'gray';
				ctx.font="25px Georgia";
				ctx.fillText("k = " + Math.round(k * 100) / 100,10,50);

				ctx.translate(500,300);

				ctx.beginPath();
				ctx.moveTo(xMin * 100,0);
				ctx.lineTo(xMax * 100,0);
				ctx.stroke();

				ctx.beginPath();
				ctx.moveTo(0,yMin * 100);
				ctx.lineTo(0,yMax * 100);
				ctx.stroke();

				ctx.fillStyle = 'gray';


				ctx.font="14px Georgia";
				//A
				ctx.beginPath();
				ctx.arc(0, 0, 7, 0, Math.PI*2); 
				ctx.closePath();
				ctx.fill();
				ctx.fillText("(0,0)",-15,20);

				//B
				ctx.beginPath();
				ctx.arc(1 * 100, 0, 7, 0, Math.PI*2); 
				ctx.closePath();
				ctx.fill();
				ctx.fillText("(1,0)",85,20);

				var steps = 0.05;

				for(var x = xMin; x <= xMax; x = x + steps){
					for(var y = yMin; y <= yMax; y = y + steps){
						
						//METHOD 1 in locus form

						ctx.fillStyle = 'olive';

						var distFact = dist(0,0,x,y) / dist(1,0,x,y); //A & B
						var cond = distFact > k - 0.01 && distFact < k + 0.01;
						if(cond){
							ctx.beginPath();
							ctx.arc(x * 100, y * 100, 3, 0, Math.PI*2); 
							ctx.closePath();
							ctx.fill();
						}

						//METHOD 2 in canonical form

						ctx.fillStyle = 'red';

						var kFact = Math.pow(k,2) / (1 - Math.pow(k,2));

						var abFact = 1 / (kFact + Math.pow(kFact,2));
						var val = abFact * Math.pow(x + kFact,2) + abFact * Math.pow(y,2);
						var cond2 = val > 1 - 0.02 && val < 1 + 0.02;

						if(cond2){
							ctx.beginPath();
							ctx.arc(x * 100, y * 100, 3, 0, Math.PI*2); 
							ctx.closePath();
							ctx.fill();
						}

					}
				}

				//METHOD 3 exact

				var kFact = Math.pow(k,2) / (1 - Math.pow(k,2));
				var r = Math.sqrt(kFact + Math.pow(kFact,2));

				ctx.strokeStyle = 'blue';
				ctx.lineWidth = 1;		
				ctx.beginPath();
				ctx.arc(-kFact * 100, 0, r * 100, 0, Math.PI*2); 
				ctx.stroke();
				ctx.closePath();
				//ctx.fill();


				ctx.restore();

				k = k + 0.005;

				if(k > 3)
					k = 0;

			  window.requestAnimationFrame(draw);
			}

			init();

		</script>

	</body> 
</html>